(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function altrExtend(e,d){function n(e,d,n){return new t(e,d,extend(!0,Object.create(r),n||{}))}var r=extend(!0,e,d),t=this;return n.render=t.render.bind(t,r),n.extend=t.extend.bind(t),n.addTag=t.addTag.bind(t),n.include=t.include.bind(t),n.addFilter=t.addFilter.bind(t),n.addDecorator=t.addDecorator.bind(t),n}var extend=require("extend");module.exports=altrExtend;
//# sourceMappingURL=altr.min.map
},{"extend":48}],2:[function(require,module,exports){
(function (global){
function altr(t,e,r){if(!(this instanceof altr))return new altr(t,e,r);var r=r||{};if(this.helpers=extend(!1,Object.create(altr.helpers),r.helpers||{}),this.decorators=extend(!1,Object.create(altr.decorators),r.decorators||{}),this.root=t,this.sync=!!r.sync,this.tagRegExp=makeTagRegExp(r.delimiters),this.document=r.doc||global.document||require(domModule).document,this.lookups=dirtybit(e,{filters:this.helpers}),this.batch=batch(function(){this.sync||raf(this.runBatch.bind(this))}.bind(this)),global.Buffer&&t instanceof global.Buffer&&(t=t.toString()),"string"==typeof t){var o=this.document.createElement("div");for(o.innerHTML=t,this.root=this.document.createDocumentFragment();o.firstChild;)this.root.appendChild(o.firstChild)}this.children=this.initNodes(this.rootNodes(),this.lookups),this.runHooks(this.children.hooks,"insert",null),this.runBatch()}function update(t,e){this.state=t,this.lookups.update(t),(e||this.sync)&&this.runBatch()}function initNodes(t,e,r){function o(t,e){var r=initNode.call(i,n,e);return r?t.concat(r):t}var i=this,n=e||dirtybit(r,{filters:this.helpers}),a=Array.prototype.slice.call(t),s=a.reduce(o,[]).filter(Boolean);return{hooks:s,lookups:n,nodes:a}}function initNode(t,e){return node_handlers[e.nodeType]?node_handlers[e.nodeType].call(this,e,t):e.childNodes&&e.childNodes.length?this.initNodes(t,e.childNodes):null}function rootNodes(){return this.root.nodeType===this.document.DOCUMENT_FRAGMENT_NODE?[].slice.call(this.root.childNodes):[this.root]}function addHelper(t,e){this.helpers[t]=e}function addTag(t,e){this.prototype.tags[t]=e,this.prototype.tagList.push({attr:t,constructor:e})}function appendTo(t){for(var e=this.rootNodes(),r=0,o=e.length;o>r;++r)t.appendChild(getEl(e[r]))}function addHelper(t,e){return this.helpers[t]=e}function addDecorator(t,e){return this.decorators[t]=e}function runBatch(){this.batch.run()&&this.emit("update",this.state)}function makeTagRegExp(t){var e=t||["{{","}}"];return new RegExp(e[0]+"\\s*(.*?)\\s*"+e[1])}var EE=require("events").EventEmitter,batch=require("batch-queue"),dirtybit=require("dirtybit"),extend=require("extend"),templateString=require("./template-string"),elementNode=require("./element-node"),mergeHooks=require("./merge-hooks"),altrExtend=require("./altr-extend"),textNode=require("./text-node"),toString=require("./to-string"),runHooks=require("./run-hooks"),getEl=require("./get-element"),destroy=require("./destroy"),render=require("./render"),remove=require("./remove"),raf=require("./raf"),domModule="micro-dom";module.exports=altr,altr.helpers={},altr.decorators={},altr.render=render,altr.addTag=addTag,altr.extend=altrExtend,altr.addHelper=addHelper,altr.addDecorator=addDecorator,altr.prototype=Object.create(EE.prototype),altr.prototype.constructor=altr,altr.prototype.templateString=templateString,altr.prototype.addDecorator=addDecorator,altr.prototype.mergeHooks=mergeHooks,altr.prototype.initNodes=initNodes,altr.prototype.rootNodes=rootNodes,altr.prototype.addHelper=addHelper,altr.prototype.runBatch=runBatch,altr.prototype.toString=toString,altr.prototype.runHooks=runHooks,altr.prototype.getElement=getEl,altr.prototype.destroy=destroy,altr.prototype.remove=remove,altr.prototype.into=appendTo,altr.prototype.update=update,altr.prototype.tagList=[],altr.prototype.tags={};var node_handlers={};node_handlers[1]=elementNode,node_handlers[3]=textNode;
//# sourceMappingURL=altr.min.map
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./altr-extend":1,"./destroy":6,"./element-node":7,"./get-element":8,"./merge-hooks":10,"./raf":11,"./remove":12,"./render":13,"./run-hooks":14,"./template-string":25,"./text-node":26,"./to-string":27,"batch-queue":28,"dirtybit":32,"events":29,"extend":48}],3:[function(require,module,exports){
function rawAttribute(t,e,r){this.templateString(e.value,this.batch.add(t.setAttribute.bind(t,e.name)),r)}function altrAttribute(t,e,r){function a(e){return e||""===e||0===e?void t.setAttribute(i,e):t.removeAttribute(i)}var i=e.name.slice("altr-attr-".length);r.on(e.value,this.batch.add(a)),t.removeAttribute(e.name)}function altrProperty(t,e,r){function a(e){t[i]=e}var i=e.name.slice("altr-prop-".length);t.removeAttribute(e.name),r.on(e.value,this.batch.add(a))}module.exports.raw=rawAttribute,module.exports.altr=altrAttribute,module.exports.prop=altrProperty;
//# sourceMappingURL=altr.min.map
},{}],4:[function(require,module,exports){
(function (global){
module.exports=global.altr=require("./index");
//# sourceMappingURL=altr.min.map
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./index":9}],5:[function(require,module,exports){
function decorators(e,r,o){function t(r){function t(){o.removeListener(u,a),s.destroy&&s.destroy()}function a(e){s.update.apply(null,e)}var s=n.decorators[r.name].call(n,e),u="["+r.value+"]";if(s){var d={insert:s.insert,remove:s.remove};return s.update&&o.on(u,a),d.destroy=t,d}}var n=this;return r.map(t)}module.exports=decorators;
//# sourceMappingURL=altr.min.map
},{}],6:[function(require,module,exports){
function destroy(o,e,r){var t=this;t.remove(o,e,function(e){t.runHooks(o,"destroy",e),r()})}module.exports=destroy;
//# sourceMappingURL=altr.min.map
},{}],7:[function(require,module,exports){
function createElementNode(t,e){for(var r,a=[],c=this,o=Array.prototype.slice.call(t.attributes),a=[],l={},s=0,n=o.length;n>s;++s)c.tags[o[s].name]?l[o[s].name]=o[s].value:c.decorators[o[s].name]?a.push(o[s]):o[s].name.lastIndexOf("altr-attr-",0)?o[s].name.lastIndexOf("altr-prop-",0)?createAttr.raw.call(this,t,o[s],e):createAttr.prop.call(this,t,o[s],e):createAttr.altr.call(this,t,o[s],e);for(var i=createDecorators.call(c,t,a,e),s=0,n=c.tagList.length;n>s;++s)if(r=l[c.tagList[s].attr])return i.concat([c.tagList[s].constructor.call(c,t,r,e,i)||{}]);return i.concat(c.initNodes(t.childNodes,e).hooks)}var createDecorators=require("./decorators"),createAttr=require("./attributes");module.exports=createElementNode;
//# sourceMappingURL=altr.min.map
},{"./attributes":3,"./decorators":5}],8:[function(require,module,exports){
function get(r){for(var e=r;e&&e._altrPlaceholder;)if(e=e._altrPlaceholder,e===r)throw new Error("placeholder circular refference");return e}module.exports=get;
//# sourceMappingURL=altr.min.map
},{}],9:[function(require,module,exports){
var placeholder=require("./tags/placeholder"),childrenTag=require("./tags/children"),includeTag=require("./tags/include"),textTag=require("./tags/text"),htmlTag=require("./tags/html"),withTag=require("./tags/with"),forTag=require("./tags/for"),rawTag=require("./tags/raw"),ifTag=require("./tags/if"),altr=require("./altr");module.exports=altr,altr.addTag("altr-children",childrenTag),altr.addTag("altr-replace",placeholder),altr.addTag("altr-include",includeTag),altr.addTag("altr-text",textTag),altr.addTag("altr-html",htmlTag),altr.addTag("altr-with",withTag),altr.addTag("altr-for",forTag),altr.addTag("altr-raw",rawTag),altr.addTag("altr-if",ifTag);
//# sourceMappingURL=altr.min.map
},{"./altr":2,"./tags/children":16,"./tags/for":17,"./tags/html":18,"./tags/if":19,"./tags/include":20,"./tags/placeholder":21,"./tags/raw":22,"./tags/text":23,"./tags/with":24}],10:[function(require,module,exports){
function merge(e){function n(n,r){for(var t=e(),o=0,i=t.length;i>o;o++)t[o][n]&&t[o][n](r)}function r(n,r){t.remove(e(),n,r)}var t=this;return{insert:n.bind(null,"insert"),destroy:n.bind(null,"destroy"),remove:r}}module.exports=merge;
//# sourceMappingURL=altr.min.map
},{}],11:[function(require,module,exports){
(function (global){
function requestAnimationFrame(e){function t(e){return setTimeout(e,1e3/60)}var n=global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||t;return n(e)}module.exports=requestAnimationFrame;
//# sourceMappingURL=altr.min.map
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],12:[function(require,module,exports){
function remove(e,o,r){function m(){--n||(n=-1,r())}for(var n=e.length,v=0,t=n;t>v;v++)e[v].remove?e[v].remove(o,m):--n;n||r()}module.exports=remove;
//# sourceMappingURL=altr.min.map
},{}],13:[function(require,module,exports){
function render(e,n,r){this.includes[e]&&(e=this.includes[e]);var t=this(e);return t.update(n||{},!0),r&&t.into(r),t}module.exports=render;
//# sourceMappingURL=altr.min.map
},{}],14:[function(require,module,exports){
function runHooks(o,n,r){for(var u=0,e=o.length;e>u;u++)o[u][n]&&o[u][n](r)}module.exports=runHooks;
//# sourceMappingURL=altr.min.map
},{}],15:[function(require,module,exports){
function setChildren(e,r){for(var t,l=null,i=r.length-1;i>=0;--i)t=get(r[i]),e.insertBefore(t,l),l=t;for(;(t=e.firstChild)!==l;)e.removeChild(t)}var get=require("./get-element");module.exports=setChildren;
//# sourceMappingURL=altr.min.map
},{"./get-element":8}],16:[function(require,module,exports){
function children(e,n,r){function i(n){for(var r=(Array.isArray(n)?n:[n]).filter(is_node),i=0,d=r.length;d>i&&r[i]===t[i];++i);i===r.length!==t.length&&(t=r,setChildren.call(this,e,t))}var t=[];e.innerHTML="",this.batch.add(r.on(n,i.bind(this)))}function is_node(e){return e&&e.nodeType}var setChildren=require("../set-children");module.exports=children;
//# sourceMappingURL=altr.min.map
},{"../set-children":15}],17:[function(require,module,exports){
function forHandler(e,r,n){function t(e){for(var r,n=0,t=u.length;t>n;++n)r=Object.create(e),r[p]=h[n],r.$index=n,u[n].lookups.update(r)}function o(r){Array.isArray(r)||(r=[]);var o,l=new Array(r.length),s=[],c={},p=[];f=[];for(var k=0,x=r.length;x>k;++k)o=i(h,r[k],g),-1!==o?(l[k]=u[o],h[o]=u[o]=c):p.push(l[k]=a()),f=f.concat(l[k].nodes);for(var k=0,x=u.length;x>k;++k)u[k]!==c&&s.push(u[k]);u=l.slice(),h=r.slice(),t(n.state),d.destroy(flatten(s),e,v.bind(d,f,flatten(p)))}function i(e,r,n){if(!n)return e.indexOf(r);for(var t=0,o=e.length;o>t;++t)if(e[t][n]===r[n])return t;return-1}function a(){return d.initNodes(s.cloneNode(!0).childNodes)}function l(r,n){setChildren.call(this,e,r),d.runHooks(n,"insert",e)}var s=e.cloneNode(!0),c=r.match(forRegexp),f=[],u=[],d=this,h=[];if(!c)return console.error("invalid `for` tag: "+r);var v=d.batch.add(l);e.innerHTML="";var g=c[1].split(":")[1],p=c[1].split(":")[0],k=c[2];return n.on(k,o),d.mergeHooks(function(){return flatten(u)})}function flatten(e){return e.reduce(function(e,r){return r.hooks?e.concat(r.hooks):e},[])}var setChildren=require("../set-children"),forRegexp=/^(.*?)\s+in\s+(.*$)/;module.exports=forHandler;
//# sourceMappingURL=altr.min.map
},{"../set-children":15}],18:[function(require,module,exports){
function html(t,e,n){function r(e){t.innerHTML="undefined"==typeof e?"":e,t.getAttribute("altr-run-scripts")&&[].forEach.call(t.getElementsByTagName("script"),run)}this.batch.add(n.on(e,r))}function run(t){for(var e=document.createElement("script"),n=t.parentNode,r=t.attributes,o=0,i=r.length;i>o;++o)e.setAttribute(r[o].name,r[o].value);e.textContent=t.textContent,n.insertBefore(e,t),n.removeChild(t)}module.exports=html;
//# sourceMappingURL=altr.min.map
},{}],19:[function(require,module,exports){
function ifTag(e,o,t,n){function r(e){p.runHooks(a.hooks,"destroy",e)}function i(o){d=o,o?(k(!0,e),a.lookups.update(t.state)):p.remove(c,e,function(){return k(!1,e)})}function l(e){d&&k(!0,e)}function s(e,o){return h?(o(),k(!1)):void p.remove(a.hooks,e,function(){k(!1),o()})}var u=this.document.createComment("altr-if-placeholder"),a=this.initNodes(e.childNodes),c=a.hooks.concat(n),d=null,h=null,f=!0,p=this,k=this.batch.add(function(o,t){h||o?h&&o?(u.parentNode.replaceChild(e,u),p.runHooks(c,"insert",t),delete e._altrPlaceholder,h=!1):f&&(f=!1,p.runHooks(c,"insert",t)):(e.parentNode.replaceChild(u,e),e._altrPlaceholder=u,h=!0)});return t.on(o,i,!0),{insert:l,remove:s,destroy:r}}module.exports=ifTag;
//# sourceMappingURL=altr.min.map
},{}],20:[function(require,module,exports){
function include(n,e,o){function t(e){d="string"==typeof e?e:"",c&&r(n,i)}function i(){c||(n.innerHTML=d,c=f.initNodes(n.childNodes,null,o.state))}function r(n,e){return c?void(l.push(e)>1||(c=null,removing=!0,f.destroy(c,n,function(){var e;for(c||(n.innerHTML="");e=l.pop();)e()}))):e()}function u(n){c&&c.lookups.update(n)}function s(){o.removeListener("this",u),o.removeListeners(e,t)}var l=[],c=null,d="",f=this;return o.on(e,t),o.on("this",u),{insert:i,remove:r,destroy:s}}module.exports=include;
//# sourceMappingURL=altr.min.map
},{}],21:[function(require,module,exports){
function placeholder(e,a,l){function o(a){a&&a.nodeName&&a!==d&&(d.parentNode.replaceChild(a,d),e._altrPlaceholder=a,d=a)}var d=e;this.batch.add(l.on(a,o))}module.exports=placeholder;
//# sourceMappingURL=altr.min.map
},{}],22:[function(require,module,exports){
module.exports=function(){};
//# sourceMappingURL=altr.min.map
},{}],23:[function(require,module,exports){
function text(t,e,n){function o(e){t.textContent="undefined"==typeof e?"":e}this.batch.add(n.on(e,o))}module.exports=text;
//# sourceMappingURL=altr.min.map
},{}],24:[function(require,module,exports){
function withTag(t,o,e){function i(t){var o=Object.create(e.state);o[a[1]]=t,s.lookups.update(o)}var s=this.initNodes(t.childNodes),a=o.split(" as ");return e.on(a[0],i),s.hooks}module.exports=withTag;
//# sourceMappingURL=altr.min.map
},{}],25:[function(require,module,exports){
function templatString(t,i,n){function e(t,n){s[t]=n,i(s.join(""))}if(t.match(this.tagRegExp)){for(var h,g,l=t,s=[];l&&(g=l.match(this.tagRegExp));)(h=l.indexOf(g[0]))&&s.push(l.slice(0,h)),s.push(""),l=l.slice(h+g[0].length),n.on(g[1],e.bind(this,s.length-1));l&&e(s.length,l)}}module.exports=templatString;
//# sourceMappingURL=altr.min.map
},{}],26:[function(require,module,exports){
function initTextNode(t,e){function n(e){t.textContent=e}this.templateString(t.textContent,this.batch.add(n),e)}module.exports=initTextNode;
//# sourceMappingURL=altr.min.map
},{}],27:[function(require,module,exports){
function toString(){function t(t){var e=this.document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}return this.rootNodes().map(function(e){switch(e.nodeType){case this.document.DOCUMENT_FRAGMENT_NODE:case this.document.COMMENT_NODE:return t.call(this,e);case this.document.TEXT_NODE:return e.textContent;default:return e.outerHTML}},this).join("")}module.exports=toString;
//# sourceMappingURL=altr.min.map
},{}],28:[function(require,module,exports){
function Batch(t,u){return this instanceof Batch?(this.jobs=[],this.all=u,this.ready=t,this.queud=!1,void(this.run=this.run.bind(this))):new Batch(t,u)}function add(t){function u(){return h=[].slice.call(arguments),i=this,n?s.all&&s.ready():(n=!0,void s.queue(e))}function e(){n=!1,t.apply(i,h)}var i,h,n=!1,s=this;return u}function queue(t){this.jobs.push(t),(this.all||!this.queued)&&(this.queued=!0,this.ready(this))}function run(){var t=this.jobs;this.jobs=[],this.queued=!1;for(var u=0,e=t.length;e>u;++u)t[u]();return!!t.length}module.exports=Batch,Batch.prototype.queue=queue,Batch.prototype.add=add,Batch.prototype.run=run;
//# sourceMappingURL=altr.min.map
},{}],29:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};
//# sourceMappingURL=altr.min.map
},{}],30:[function(require,module,exports){
function Expression(e,t,s,h){this.dependents=[],this.deps=t,this.parsed=e,this.changed=!1,this.removable=!0,this.value=s,this.update=update.bind(this),this.handler=h;for(var n=0,i=t.length;i>n;++n)t[n].dependents.push(this)}function change(e){if(this.value!==e||this.value&&"object"==typeof this.value){this.value=e,this.changed=!0;for(var t=0,s=this.dependents.length;s>t;++t)this.dependents[t].update()}}function update(){for(var e=new Array(this.deps.length),t=0,s=this.deps.length;s>t;++t)e[t]=this.deps[t].value;this.handler.apply(null,e)}module.exports=Expression,Expression.prototype.change=change,Expression.prototype.update=update;
//# sourceMappingURL=altr.min.map
},{}],31:[function(require,module,exports){
function hash(r){for(var e=0,t=0,h=r.length;h>t;++t)e=(e<<5)-e+r.charCodeAt(t),e|=0;return e.toString().replace("-","_")}module.exports=hash;
//# sourceMappingURL=altr.min.map
},{}],32:[function(require,module,exports){
function DirtyBit(t,i){return this instanceof DirtyBit?(this.options=i||{},this.partials={},this.state=t||{},this.filters=Object.create(this.options.filters||null),this.rootKey=this.options.rootKey,this.rootExpression=new Expression("this",[],this.state),this.expressions={},this.handlers={},this.handlerList=[],this.expressions["this"]=this.rootExpression,this.rootExpression.removable=!1,this.rootKey&&(this.expressions[this.rootKey]=this.rootExpression),void(this.updating=!1)):new DirtyBit(t,i)}function update(t){this.state=t,this.updating=!0,this.rootExpression.change(t),this.updating=!1,this.report()}function report(){for(var t,i,s=0,r=this.handlerList.length;r>s;++s)if(i=this.handlerList[s],t=this.expressions[i],t.changed){for(var e=0,o=this.handlers[i].length;o>e;++e)this.handlers[i][e](t.value);t.changed=!1}}function addFilter(t,i){this.filters[t]=i}function trim(t){return t.replace(/^\s+|\s+$/g,"")}function on(t,i){var s=this.trim(t);return this.handlers[s]?(this.handlers[s].push(i),i(this.expressions[s].value)):(this.updating=!0,this.watch(s),this.handlerList.push(s),this.handlers[s]=[i],this.updating=!1,void i(this.expressions[s].value))}var Expression=require("./expression"),remove=require("./remove"),types=require("./types"),parse=require("./parse"),split=require("./split"),watch=require("./watch"),hash=require("./hash");module.exports=DirtyBit,DirtyBit.prototype.removeListener=remove,DirtyBit.prototype.addFilter=addFilter,DirtyBit.prototype.update=update,DirtyBit.prototype.report=report,DirtyBit.prototype.types=types,DirtyBit.prototype.split=split,DirtyBit.prototype.parse=parse,DirtyBit.prototype.watch=watch,DirtyBit.prototype.hash=hash,DirtyBit.prototype.trim=trim,DirtyBit.prototype.on=on,DirtyBit.parsed={};
//# sourceMappingURL=altr.min.map
},{"./expression":30,"./hash":31,"./parse":33,"./remove":34,"./split":35,"./types":40,"./watch":47}],33:[function(require,module,exports){
function parse(e){for(var t,r=0,s=this.types.order.length;s>r&&!(t=this.types.types[this.types.order[r]].parse.call(this,e));++r);return t.type=this.types.order[r],t.lookup=e,t}module.exports=parse;
//# sourceMappingURL=altr.min.map
},{}],34:[function(require,module,exports){
function remove(e,s){var i=this.trim(e),n=this.handlers[i];if(n){var r=n.indexOf(s);0>r||(n.splice(r,1),this.handlers[i].length||(delete this.handlers[i],this.handlerList.splice(this.handlerList.indexOf(i),1),removeExpression(this,this.expressions[i])))}}function removeExpression(e,s){if(!s.dependents.length&&s.removable){delete e.expressions[s.parsed.lookup];for(var i,n=0,r=s.deps.length;r>n;++n)i=s.deps[n],i.dependents.splice(i.dependents.indexOf(s),1),removeExpression(e,i)}}module.exports=remove;
//# sourceMappingURL=altr.min.map
},{}],35:[function(require,module,exports){
function split(e,r,t,l){for(var i=l||default_pairs,n=!1,a=[],p=0,f=e.length;f>p;++p){if(!~e.indexOf(r)){p=f;break}if(!a.length){for(var o=0,s=r.length;s>o&&e[p+o]===r[o];++o);if(o===r.length)break}if(a.length&&a[a.length-1]===e[p])n=!1,a.pop();else if(!n)for(var o=0,s=i.length;s>o;++o)if(e[p]===i[o][0]){i[o][2]&&(n=!0),a.push(i[o][1]);break}}if(a.length&&console.error("Unmatched pair in "+e+". expecting: "+a.pop()),p===e.length)return[e];var h=e.slice(p+r.length),g=e.slice(0,p);return t?[g].concat(split(h,r,t,i)):[g,h]}var default_pairs=[["(",")"],["[","]"],["?",":"],['"','"',!0],["'","'",!0]];module.exports=split,module.exports.pairs=default_pairs;
//# sourceMappingURL=altr.min.map
},{}],36:[function(require,module,exports){
function add(n){tests.push(new RegExp("^(.+?)(\\"+n.join("|\\")+")(.+)$"))}function parse(n){for(var e,t=0,a=tests.length;a>t&&!(e=n.match(tests[t]));++t);return e?{deps:[e[1],e[3]],options:e[2]}:!1}function create(n,e){return ops[e]||(ops[e]=createOp(e)),ops[e].bind(null,n)}function createOp(n){return Function("change, left, right","change(left "+n+" right)")}function updateIn(n,e){return"undefined"!=typeof e&&n in e}function updateInstanceof(n,e){return"function"==typeof e&&n instanceof e}module.exports=create,module.exports.parse=parse;var tests=[],ops={};add(["|\\|"]),add(["&&"]),add(["|"]),add(["^"]),add(["&"]),add(["===","!==","==","!="]),add([">=","<=",">","<"," in "," instanceof "]),add(["+","-"]),add(["*","/","%"]),ops["in"]=updateIn,ops["instanceof"]=updateInstanceof;
//# sourceMappingURL=altr.min.map
},{}],37:[function(require,module,exports){
function parse(e){if(!has_bracket.test(e))return!1;var r=this.split.pairs.map(function(e){return[e[1],e[0],e[2]]});return{deps:this.split(reverse(e.slice(0,-1)),"[",!1,r).map(reverse)}}function reverse(e){return e.split("").reverse().join("")}function brackets(e){return function(r,t){return null===t||void 0===t?e():void e(t[r])}}var has_bracket=/^.*\S\[.+\]$/;module.exports=brackets,module.exports.parse=parse;
//# sourceMappingURL=altr.min.map
},{}],38:[function(require,module,exports){
function parse(e){var t=e.match(valid_path);return t?{deps:[t[1]],options:t[2]}:{deps:["this"],options:e}}function create(e,t){return function(r){return null===r||void 0===r?e():void e(r[t])}}var valid_path=/^(.*)\.([^.\s]+)$/;module.exports=create,module.exports.parse=parse;
//# sourceMappingURL=altr.min.map
},{}],39:[function(require,module,exports){
function parse(e){var r=e.match(filter_regexp);return r?{deps:this.split(r[2],",",!0),options:r[1]}:!1}function create(e,r){return this.filters[r](e)||function(){console.error("could not find filter: "+r)}}var filter_regexp=/^([^\s(]+)\((.*)\)$/;module.exports=create,module.exports.parse=parse;
//# sourceMappingURL=altr.min.map
},{}],40:[function(require,module,exports){
var brackets=require("./brackets"),dot_path=require("./dot-path"),filters=require("./filters"),partial=require("./partial"),ternary=require("./ternary"),parens=require("./parens"),values=require("./values"),binary=require("./binary"),unary=require("./unary"),list=require("./list");module.exports.order=["values","filters","partial","parens","ternary","binary","unary","brackets","list","dot_path"],module.exports.types={values:values,filters:filters,partial:partial,parens:parens,ternary:ternary,binary:binary,unary:unary,brackets:brackets,list:list,dot_path:dot_path};
//# sourceMappingURL=altr.min.map
},{"./binary":36,"./brackets":37,"./dot-path":38,"./filters":39,"./list":41,"./parens":42,"./partial":43,"./ternary":44,"./unary":45,"./values":46}],41:[function(require,module,exports){
function parse(s){return is_list.test(s)?{deps:this.split(s.slice(1,-1),",",!0)}:!1}function list(s){return function(){s([].slice.call(arguments))}}var is_list=/^\[.+\]$/;module.exports=list,module.exports.parse=parse;
//# sourceMappingURL=altr.min.map
},{}],42:[function(require,module,exports){
function parse(r){var e=r.match(parens_regexp);if(!e)return!1;var a=this.split(e[2],")")[0],s="{{paren_"+this.hash(a)+"}}",p={};p[s]=a;var t=r.slice(0,r.lastIndexOf([e[2]])-1)+s+e[2].slice(a.length+1);return{proxy:t,partials:p}}var parens_regexp=/(^|[^0-9a-zA-Z_$])\((.*)$/;module.exports.parse=parse;
//# sourceMappingURL=altr.min.map
},{}],43:[function(require,module,exports){
function parse(e){return regexp.test(e)?{proxy:this.partials[e]}:!1}var regexp=/^\{\{[#_\w]+\}\}$/;module.exports.parse=parse;
//# sourceMappingURL=altr.min.map
},{}],44:[function(require,module,exports){
function parse(r){var e=r.match(ternary_regexp);if(!e)return!1;var t=this.split(e[2],":");return 2!==t.length&&console.error("Unmatched ternary in: "+r),{deps:[e[1],t[0],t[1]]}}function create(r){return function(e,t,n){r(e?t:n)}}var ternary_regexp=/^\s*(.+?)\s*\?(.*)\s*$/;module.exports=create,module.exports.parse=parse;
//# sourceMappingURL=altr.min.map
},{}],45:[function(require,module,exports){
function parse(e){var t=e.match(test);return t?{deps:[t[2]],options:t[1]}:!1}function create(e,t){return ops[t]||(ops[t]=create_op(t)),ops[t].bind(null,e)}function create_op(e){return Function("change, val","change("+e+"val)")}module.exports=create,module.exports.parse=parse;var test=new RegExp("^(\\"+["!","+","-","~"].join("|\\")+")(.+)$"),ops={};
//# sourceMappingURL=altr.min.map
},{}],46:[function(require,module,exports){
function parse(e){return vals.hasOwnProperty(e)?{value:vals[e]}:number_regexp.test(e)?{value:+e}:string_regexp.test(e)?{value:e.slice(1,-1)}:void 0}var string_regexp=/^(?:'((?:[^'\\]|(?:\\.))*)'|"((?:[^"\\]|(?:\\.))*)")$/,number_regexp=/^(\d*(?:\.\d+)?)$/;module.exports.parse=parse;var vals={"true":!0,"false":!1,"null":null,undefined:void 0};
//# sourceMappingURL=altr.min.map
},{}],47:[function(require,module,exports){
function watch(e){function t(e){return r.updating?o.change(e):(r.updating=!0,o.change(e),r.updating=!1,void r.report())}var r=this,n=seen[e]||(seen[e]=r.parse(e)),a=n.partials&&Object.keys(n.partials),s=createHandler.call(r,n,t);if(a)for(var i=0,p=a.length;p>i;++i)r.partials[a[i]]=n.partials[a[i]],getDep.call(r,r.partials[a[i]]);var o=createExpression.call(r,n,s);return r.expressions[e]=o,o.handler&&o.update(),o}function createHandler(e,t){var r=this.types.types[e.type];return"function"==typeof r?r.call(this,t,e.options):null}function createExpression(e,t){function r(e){n.change(e)}var n,a=e.deps?e.deps.map(getDep.bind(this)):[],s=e.proxy&&getDep.call(this,e.proxy);return s?n=new Expression(e,[s],s.value,r):new Expression(e,a,e.value,t)}function getDep(e){var t=this.trim(e);return this.expressions[t]||this.watch(t)}var Expression=require("./expression");module.exports=watch;var seen={};
//# sourceMappingURL=altr.min.map
},{"./expression":30}],48:[function(require,module,exports){
var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString,undefined,isPlainObject=function(t){"use strict";if(!t||"[object Object]"!==toString.call(t)||t.nodeType||t.setInterval)return!1;var r=hasOwn.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&hasOwn.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var e;for(e in t);return e===undefined||hasOwn.call(t,e)};module.exports=function t(){"use strict";var r,n,e,o,c,a,i=arguments[0],s=1,u=arguments.length,f=!1;for("boolean"==typeof i?(f=i,i=arguments[1]||{},s=2):("object"!=typeof i&&"function"!=typeof i||i==undefined)&&(i={});u>s;++s)if(null!=(r=arguments[s]))for(n in r)e=i[n],o=r[n],i!==o&&(f&&o&&(isPlainObject(o)||(c=Array.isArray(o)))?(c?(c=!1,a=e&&Array.isArray(e)?e:[]):a=e&&isPlainObject(e)?e:{},i[n]=t(f,a,o)):o!==undefined&&(i[n]=o));return i};
//# sourceMappingURL=altr.min.map
},{}]},{},[4])


//# sourceMappingURL=altr.min.map