(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
function altr(t,e,r,o){if(!(this instanceof altr))return new altr(t,e,r,o);if(EE.call(this),this.sync=!!r,this.root=t,this.document=o||global.document||require(domModule).document,this.filters=Object.create(altr.filters),this.includes=Object.create(altr.includes),this.directives=Object.create(altr.directives),this.lookups=dirtybit(e,{filters:this.filters}),this.batch=batch(function(){this.sync||raf(this.runBatch.bind(this))}.bind(this)),global.Buffer&&t instanceof global.Buffer&&(t=t.toString()),"string"==typeof t){var i=this.document.createElement("div");for(i.innerHTML=t,this.root=this.document.createDocumentFragment();i.firstChild;)this.root.appendChild(i.firstChild)}this.hooks=this.initNodes(this.rootNodes(),this.lookups),this.runBatch()}function update(t,e){this.state=t,this.lookups.update(t),this.emit("update"),(e||this.sync)&&this.runBatch()}function initNodes(t,e){var r=e||dirtybit(null,{filters:this.filters}),o=Array.prototype.slice.call(t).map(initNode.bind(this,r)).filter(Boolean).reduce(this.mergeHooks.bind(this),{});return{hooks:o,lookups:r,nodes:t}}function initNode(t,e){return node_handlers[e.nodeType]?node_handlers[e.nodeType].call(this,e,t):e.childNodes&&e.childNodes.length?this.initNodes(t,e.childNodes):null}function root_nodes(){return this.root.nodeType===this.document.DOCUMENT_FRAGMENT_NODE?[].slice.call(this.root.childNodes):[this.root]}function addFilter(t,e){altr.filters[t]=e}function addTag(t,e){altr.prototype.tags[t]=e,altr.prototype.tagList.push({attr:t,constructor:e})}function appendTo(t){for(var e=this.rootNodes(),r=0,o=e.length;o>r;++r)t.appendChild(getEl(e[r]))}function include(t,e){return this.includes[t]=e}function addFilter(t,e){return this.filters[t]=e}function addDirective(t,e){return this.directives[t]=e}function runBatch(){this.batch.run()&&this.emit("draw",this.state)}function destroy(){var t=this.hooks.destroy;if(this.hooks.destroy){Array.isArray(t)&&(t=[t]);for(var e=0,r=t.length;r>e;++e)t[e]()}}var EE=require("events").EventEmitter,batch=require("batch-queue"),dirtybit=require("dirtybit"),templateString=require("./template-string"),elementNode=require("./element-node"),mergeHooks=require("./merge-hooks"),textNode=require("./text-node"),toString=require("./to-string"),getEl=require("./get-element"),replace=require("./replace"),render=require("./render"),insert=require("./insert"),remove=require("./remove"),raf=require("./raf"),domModule="micro-dom";altr.filters={},altr.includes={},altr.directives={},altr.render=render,altr.addTag=addTag,altr.include=include,altr.addFilter=addFilter,altr.addDirective=addDirective,module.exports=altr,altr.prototype=Object.create(EE.prototype),altr.prototype.constructor=altr,altr.prototype.templateString=templateString,altr.prototype.addDirective=addDirective,altr.prototype.mergeHooks=mergeHooks,altr.prototype.initNodes=initNodes,altr.prototype.rootNodes=root_nodes,altr.prototype.addFilter=addFilter,altr.prototype.runBatch=runBatch,altr.prototype.toString=toString,altr.prototype.getElement=getEl,altr.prototype.include=include,altr.prototype.replace=replace,altr.prototype.destroy=destroy,altr.prototype.into=appendTo,altr.prototype.update=update,altr.prototype.insert=insert,altr.prototype.remove=remove,altr.prototype.tagList=[],altr.prototype.tags={};var node_handlers={};node_handlers[1]=elementNode,node_handlers[3]=textNode;
//# sourceMappingURL=altr.min.map
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./element-node":5,"./get-element":6,"./insert":8,"./merge-hooks":9,"./raf":10,"./remove":11,"./render":12,"./replace":13,"./template-string":23,"./text-node":24,"./to-string":25,"batch-queue":26,"dirtybit":28,"events":27}],2:[function(require,module,exports){
function rawAttribute(t,e,r){return this.templateString(e.value,this.batch.add(t.setAttribute.bind(t,e.name)),r)}function altrAttribute(t,e,r){function a(e){return e||""===e||0===e?e===!0?t.setAttribute(i,""):void t.setAttribute(i,e):t.removeAttribute(i)}var i=e.name.slice("altr-attr-".length);r.register(e.value,this.batch.add(a)),t.removeAttribute(e.name)}function altrProperty(t,e,r){function a(e){t[i]=e}var i=e.name.slice("altr-prop-".length);t.removeAttribute(e.name),r.register(e.value,this.batch.add(a))}module.exports.raw=rawAttribute,module.exports.altr=altrAttribute,module.exports.prop=altrProperty;
//# sourceMappingURL=altr.min.map
},{}],3:[function(require,module,exports){
(function (global){
module.exports=global.altr=require("./index");
//# sourceMappingURL=altr.min.map
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./index":7}],4:[function(require,module,exports){
function directives(e,t,r){function i(e,t,i){var u=t(e);if(u)return u.update&&(r.register(i,u.update),delete u.update),u}for(var u=this,d=[],n=0,o=t.length;o>n;++n)d.push(i(e,u.directives[t[n].name],t[n].value));return d.length?d.reduce(u.mergeHooks,{}):void 0}module.exports=directives;
//# sourceMappingURL=altr.min.map
},{}],5:[function(require,module,exports){
function createElementNode(e,t){for(var r,a=[],s=this,l={},i=Array.prototype.slice.call(e.attributes),a=[],c={},o=[],n=0,u=i.length;u>n;++n)s.tags[i[n].name]?c[i[n].name]=i[n].value:s.directives[i[n].name]?a.push(i[n]):o.push(i[n].name.lastIndexOf("altr-attr-",0)?i[n].name.lastIndexOf("altr-prop-",0)?createAttr.raw.call(this,e,i[n],t):createAttr.prop.call(this,e,i[n],t):createAttr.altr.call(this,e,i[n],t));l.updates,a.length&&(l=s.mergeHooks(l,createDirectives.call(s,e,a,t)));for(var n=0,u=s.tagList.length;u>n;++n)if(r=c[s.tagList[n].attr])return s.mergeHooks(l,s.tagList[n].constructor.call(s,e,r,t));return s.mergeHooks(l,s.initNodes(e.childNodes,t))}var createDirectives=require("./directives"),createAttr=require("./attributes");module.exports=createElementNode;
//# sourceMappingURL=altr.min.map
},{"./attributes":2,"./directives":4}],6:[function(require,module,exports){
function get(r){for(var e=r;e&&e._altrPlaceholder;)if(e=e._altrPlaceholder,e===r)throw new Error("placeholder circular refference");return e}module.exports=get;
//# sourceMappingURL=altr.min.map
},{}],7:[function(require,module,exports){
var placeholder=require("./tags/placeholder"),childrenTag=require("./tags/children"),includeTag=require("./tags/include"),textTag=require("./tags/text"),htmlTag=require("./tags/html"),withTag=require("./tags/with"),forTag=require("./tags/for"),ifTag=require("./tags/if"),altr=require("./altr");module.exports=altr,altr.addTag("altr-placeholder",placeholder),altr.addTag("altr-children",childrenTag),altr.addTag("altr-replace",placeholder),altr.addTag("altr-include",includeTag),altr.addTag("altr-text",textTag),altr.addTag("altr-html",htmlTag),altr.addTag("altr-with",withTag),altr.addTag("altr-for",forTag),altr.addTag("altr-if",ifTag);
//# sourceMappingURL=altr.min.map
},{"./altr":1,"./tags/children":15,"./tags/for":16,"./tags/html":17,"./tags/if":18,"./tags/include":19,"./tags/placeholder":20,"./tags/text":21,"./tags/with":22}],8:[function(require,module,exports){
function insert(e,n,t){var i=n.parentNode!==e;t=t||null,(i||n.nextSibling!==t)&&e.insertBefore(n,t),i&&this.emit("insert",n,e)}module.exports=insert;
//# sourceMappingURL=altr.min.map
},{}],9:[function(require,module,exports){
function merge(e,r){for(var t,y={},a=e||{},n=r||{},o=0,s=types.length;s>o;++o)t=arrayify(a[types[o]]).concat(arrayify(n[types[o]])),t.length&&(y[types[o]]=t);return Object.keys(y).length?y:null}function arrayify(e){return e?Array.isArray(e)?e.filter(Boolean):[e]:[]}module.exports=merge;var types=["update","insert","remove","destroy"];
//# sourceMappingURL=altr.min.map
},{}],10:[function(require,module,exports){
(function (global){
function requestAnimationFrame(e){function t(e){return setTimeout(e,1e3/60)}var n=global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||t;return n(e)}module.exports=requestAnimationFrame;
//# sourceMappingURL=altr.min.map
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],11:[function(require,module,exports){
function remove(e,o){e.removeChild(o),this.emit("remove",o,e)}module.exports=remove;
//# sourceMappingURL=altr.min.map
},{}],12:[function(require,module,exports){
function render(e,n,r){this.includes[e]&&(e=this.includes[e]);var t=this(e);return t.update(n||{},!0),r&&t.into(r),t}module.exports=render;
//# sourceMappingURL=altr.min.map
},{}],13:[function(require,module,exports){
function replace(e,i,t){e.replaceChild(i,t),this.emit("replace",i,t,e),this.emit("insert",i,e),this.emit("remove",t,e)}module.exports=replace;
//# sourceMappingURL=altr.min.map
},{}],14:[function(require,module,exports){
function setChildren(e,t){for(var r,i=null,l=t.length-1;l>=0;--l)r=get(t[l]),this.insert(e,r,i),i=r;for(;(r=e.firstChild)!==i;)this.remove(e,r)}var get=require("./get-element");module.exports=setChildren;
//# sourceMappingURL=altr.min.map
},{"./get-element":6}],15:[function(require,module,exports){
function children(e,r,n){function i(r){for(var n=(Array.isArray(r)?r:[r]).filter(is_node),i=0,d=n.length;d>i&&n[i]===t[i];++i);i===n.length!==t.length&&(t=n,setChildren.call(this,e,t))}var t=[];e.innerHTML="",this.batch.add(n.register(r,i.bind(this)))}function is_node(e){return e&&e.nodeType}var setChildren=require("../set-children");module.exports=children;
//# sourceMappingURL=altr.min.map
},{"../set-children":14}],16:[function(require,module,exports){
function forHandler(r,e,n){function t(r){for(var e,n=0,t=u.length;t>n;++n)e=Object.create(r),e[p]=y[n],e.$index=n,u[n].lookups.update(e)}function o(){for(var r=0,e=u.length;e>r;++r)c(u[r].hooks)}function i(r){Array.isArray(r)||(r=[]);var e,o=new Array(r.length),i={};h=[];for(var l=0,f=r.length;f>l;++l)e=a(y,r[l],g),-1!==e?(o[l]=u[e],y[e]=u[e]=i):o[l]=s(),h=h.concat(o[l].nodes);for(var l=0,f=u.length;f>l;++l)u[l]!==i&&c(u[l].hooks);u=o.slice(),y=r.slice(),m.call(v),t(n.state)}function a(r,e,n){if(!n)return r.indexOf(e);for(var t=0,o=r.length;o>t;++t)if(r[t][n]===e[n])return t;return-1}function s(){var e=v.document.createElementNS(r.namespaceURI,"div");return e.innerHTML=d,v.initNodes(Array.prototype.slice.call(e.childNodes))}function l(){setChildren.call(this,r,h)}function c(r){if(r.destroy)for(var e=Array.isArray(r.destroy)?r.destroy:[r.destroy],n=0,t=e.length;t>n;++n)e[n]()}var f=e.match(for_regexp),d=r.innerHTML,h=[],u=[],v=this,y=[];if(!f)throw new Error("invalid for tag: "+e);r.innerHTML="";var g=f[1].split(":")[1],p=f[1].split(":")[0],A=f[2],m=this.batch.add(l);return n.register(A,i),{destroy:o}}var setChildren=require("../set-children"),for_regexp=/^(.*?)\s+in\s+(.*$)/;module.exports=forHandler;
//# sourceMappingURL=altr.min.map
},{"../set-children":14}],17:[function(require,module,exports){
function html(t,e,n){function r(e){t.innerHTML="undefined"==typeof e?"":e,t.getAttribute("altr-run-scripts")&&[].forEach.call(t.getElementsByTagName("script"),run)}this.batch.add(n.register(e,r,n))}function run(t){for(var e=document.createElement("script"),n=t.parentNode,r=t.attributes,i=0,o=r.length;o>i;++i)e.setAttribute(r[i].name,r[i].value);e.textContent=t.textContent,n.insertBefore(e,t),n.removeChild(t)}module.exports=html;
//# sourceMappingURL=altr.min.map
},{}],18:[function(require,module,exports){
function ifTag(e,t,a){function o(e){return e?(c(),void d.lookups.update(a.state)):n()}var r=this.document.createComment("altr-if-placeholder"),d=this.initNodes(e.childNodes),i=null,l=this,n=this.batch.add(function(){e.parentNode;i||(l.replace(e.parentNode,r,e),e._altrPlaceholder=r,i=!0)}),c=this.batch.add(function(){i&&(l.replace(r.parentNode,e,r),delete e._altrPlaceholder,i=!1)});return a.register(t,o,!0),d.hooks}module.exports=ifTag;
//# sourceMappingURL=altr.min.map
},{}],19:[function(require,module,exports){
function include(i,e,n){return i.innerHTML=this.includes[e],this.initNodes(i.childNodes,n)}module.exports=include;
//# sourceMappingURL=altr.min.map
},{}],20:[function(require,module,exports){
function placeholder(e,a,r){function l(a){a&&a.nodeName&&a!==o&&(t.replace(o.parentNode,a,o),e._altrPlaceholder=a,o=a)}var o=e,t=this;this.batch.add(r.register(a,l))}module.exports=placeholder;
//# sourceMappingURL=altr.min.map
},{}],21:[function(require,module,exports){
function text(t,e,n){function o(e){t.textContent="undefined"==typeof e?"":e}this.batch.add(n.register(e,o))}module.exports=text;
//# sourceMappingURL=altr.min.map
},{}],22:[function(require,module,exports){
function withTag(t,e,i){function o(t){var e=Object.create(i.state);e[a[1]]=t,s.lookups.update(e)}var s=this.initNodes(t.childNodes),a=e.split(" as ");return i.register(a[0],o),s.hooks}module.exports=withTag;
//# sourceMappingURL=altr.min.map
},{}],23:[function(require,module,exports){
function templatString(t,i,e){function n(t,e){l[t]=e,i(l.join(""))}if(t.match(TAG)){for(var s,h,r=t,l=[];r&&(h=r.match(TAG));)(s=r.indexOf(h[0]))&&l.push(r.slice(0,s)),l.push(""),r=r.slice(s+h[0].length),e.register(h[1],n.bind(this,l.length-1));r&&l.push(r)}}var TAG=/{{\s*(.*?)\s*}}/;module.exports=templatString;
//# sourceMappingURL=altr.min.map
},{}],24:[function(require,module,exports){
function initTextNode(t,e){function n(e){t.textContent=e}this.templateString(t.textContent,this.batch.add(n),e)}module.exports=initTextNode;
//# sourceMappingURL=altr.min.map
},{}],25:[function(require,module,exports){
function toString(){function t(t){var e=this.document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}return this.rootNodes().map(function(e){switch(e.nodeType){case this.document.DOCUMENT_FRAGMENT_NODE:case this.document.COMMENT_NODE:return t.call(this,e);case this.document.TEXT_NODE:return e.textContent;default:return e.outerHTML}},this).join("")}module.exports=toString;
//# sourceMappingURL=altr.min.map
},{}],26:[function(require,module,exports){
function Batch(t,u){return this instanceof Batch?(this.jobs=[],this.all=u,this.ready=t,this.queud=!1,void(this.run=this.run.bind(this))):new Batch(t,u)}function add(t){function u(){return h=[].slice.call(arguments),i=this,s?n.all&&n.ready():(s=!0,void n.queue(e))}function e(){s=!1,t.apply(i,h)}var i,h,s=!1,n=this;return u}function queue(t){this.jobs.push(t),(this.all||!this.queued)&&(this.queued=!0,this.ready(this))}function run(){var t=this.jobs;this.jobs=[],this.queued=!1;for(var u=0,e=t.length;e>u;++u)t[u]();return!!this.jobs.length}module.exports=Batch,Batch.prototype.queue=queue,Batch.prototype.add=add,Batch.prototype.run=run;
//# sourceMappingURL=altr.min.map
},{}],27:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))throw t=arguments[1],t instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};
//# sourceMappingURL=altr.min.map
},{}],28:[function(require,module,exports){
function DirtyBit(t,e){if(!(this instanceof DirtyBit))return new DirtyBit(t,e);var i=e||{};EE.call(this),this.state=t||{},this.events=new EE,this.deps=Object.create(null),this.values=Object.create(null),this.lookups=Object.create(null),this.filters=Object.create(i.filters||null),this.always=[],this.getters=[],this.updating=!1,this.updates={},this.setMaxListeners(0),this.events.setMaxListeners(0),this.rootKey=i.rootKey,this.lookups["this"]=1/0,this.lookups[this.rootKey]=1/0,this.update(this.state)}function register(t,e,i,s,r){var p=r||"undefined"==typeof p,a=this.clean(t);return s?(this.events.on(a,e),this.deps[s]=this.deps[s]||{},this.deps[s][a]=e):i?this.always.push({lookup:a,callback:e}):this.on(a,e),1!==(this.lookups[a]=(this.lookups[a]||0)+1)?void(p&&e.apply(this,this.values[a]?this.values[a].slice(1):void 0)):void(this.updating?this.watch(a):(this.updating=!0,this.watch(a),this.updating=!1,p&&e.apply(this,this.values[a]?this.values[a].slice(1):void 0),this.updates={}))}function deregister(t,e){var i,s=this.clean(t),r=this.deps[s];if(this.removeListener(s,e),this.events.removeListener(s,e),--this.lookups[s],!(this.lookups[s]>0||!r||(this.always=this.always.filter(function(t){return!(t.callback===e&&t.lookup===s)}),this._events[s]||this.events._events[s]))){i=Object.keys(r),delete this.deps[s],delete this.values[s],delete this.lookups[s];for(var p=0,a=i.length;a>p;++p)this.deregister(i[p],r[i[p]])}}function watch(t){var e=this.split(this.clean(t),",",!0);if(e.length>1)return this.registerList(e,e.join(","));for(var i=0,s=this.types.length;s>i&&!this.types[i].call(this,e[0]);++i);if(i===s)throw new Error("invalid lookup: "+e[0])}function updateValue(t){for(var e=Array.prototype.slice.call(arguments),i=0,s=e.length;s>i&&this.values[t]&&(this.values[t][i]!==e[i]||"object"==typeof e[i]);++i);return i!==s?(this.values[t]=e,this.events.emit.apply(this.events,e),this.updating?this.updates[t]=e:void this.emit.apply(this,e)):void 0}function update(t){this.updating=!0,this.state=t,this.state,this.updateValue("this",t),this.rootKey&&this.updateValue(this.rootKey,t);for(var e=0,i=this.getters.length;i>e;++e)this.getters[e](t);this.updating=!1;for(var s=Object.keys(this.updates),e=0,i=s.length;i>e;++e)this.emit.apply(this,this.updates[s[e]]);for(var e=0,i=this.always.length;i>e;++e)this.always[e].callback.apply(this,this.values[this.always[e].lookup].slice(1));this.updates={}}function addFilter(t,e){this.filters[t]=e}function clean(t){return this.split(t,",",!0).map(trim).join(",")}function trim(t){return t.replace(/^\s+|\s+$/g,"")}function cleaned_on(t,e){EE.prototype.on.call(this,this.clean(t),e)}function hash(t){for(var e=0,i=0,s=t.length;s>i;++i)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e.toString().replace("-","#")}var operators=require("./types/operators"),brackets=require("./types/brackets"),dot_path=require("./types/dot-path"),filters=require("./types/filters"),partial=require("./types/partial"),EE=require("events").EventEmitter,parens=require("./types/parens"),values=require("./types/values"),split=require("./split"),list=require("./list");module.exports=DirtyBit,DirtyBit.prototype=Object.create(EE.prototype),DirtyBit.prototype.updateValue=updateValue,DirtyBit.prototype.deregister=deregister,DirtyBit.prototype.constructor=DirtyBit,DirtyBit.prototype.addFilter=addFilter,DirtyBit.prototype.register=register,DirtyBit.prototype.registerList=list,DirtyBit.prototype.update=update,DirtyBit.prototype.on=cleaned_on,DirtyBit.prototype.watch=watch,DirtyBit.prototype.clean=clean,DirtyBit.prototype.split=split,DirtyBit.prototype.hash=hash,DirtyBit.prototype.types=[],DirtyBit.prototype.types.push(values),DirtyBit.prototype.types.push(filters),DirtyBit.prototype.types.push(partial),DirtyBit.prototype.types.push(parens),DirtyBit.prototype.types.push(operators),DirtyBit.prototype.types.push(brackets),DirtyBit.prototype.types.push(dot_path);
//# sourceMappingURL=altr.min.map
},{"./list":29,"./split":30,"./types/brackets":31,"./types/dot-path":32,"./types/filters":33,"./types/operators":34,"./types/parens":35,"./types/partial":36,"./types/values":37,"events":27}],29:[function(require,module,exports){
function list(t,i){function n(t,n){s[t]=n,this.updateValue.apply(this,[i].concat(s))}for(var e=t.map(this.clean.bind(this)),s=new Array(t.length),a=0,h=e.length;h>a;++a)this.register(e[a],n.bind(this,a),!1,i)}module.exports=list;
//# sourceMappingURL=altr.min.map
},{}],30:[function(require,module,exports){
function split(e,r,t,l){for(var i=l||default_pairs,n=!1,a=[],p=0,f=e.length;f>p;++p){if(!a.length){for(var h=0,o=r.length;o>h&&e[p+h]===r[h];++h);if(h===r.length)break}if(a.length&&a[a.length-1]===e[p])n=!1,a.pop();else if(!n)for(var h=0,o=i.length;o>h;++h)if(e[p]===i[h][0]){i[h][2]&&(n=!0),a.push(i[h][1]);break}}if(a.length)throw new Error("Unmatched pair in "+e+". expecting: "+a.pop());if(p===e.length)return[e];var s=e.slice(p+r.length),g=e.slice(0,p);return t?[g].concat(split(s,r,t,i)):[g,s]}var default_pairs=[["(",")"],["[","]"],["?",":"],['"','"',!0],["'","'",!0]];module.exports=split,module.exports.pairs=default_pairs;
//# sourceMappingURL=altr.min.map
},{}],31:[function(require,module,exports){
function dot_path(t){function e(t){s=t,i()}function r(t){n=t,i()}function i(){return null===n||void 0===n?o.updateValue(t,void 0):void o.updateValue(t,n[s])}if(has_bracket.test(t)){var s,n,u=this.split.pairs.map(function(t){return[t[1],t[0],t[2]]}),a=this.split(reverse(t.slice(0,-1)),"[",!1,u).map(reverse),o=this;return this.register(a[0],e,!1,t),this.register(a[1],r,!1,t),!0}}function reverse(t){return t.split("").reverse().join("")}var has_bracket=/^.+\[.+\]$/;module.exports=dot_path;
//# sourceMappingURL=altr.min.map
},{}],32:[function(require,module,exports){
function dot_path(t){function a(a){return null===a||void 0===a?u.updateValue(t,void 0):void u.updateValue(t,a[e?e[2]:t])}var e=t.match(valid_path),u=this;return e?(u.register(e[1],a,!1,t),!0):(a(u.state),u.getters.push(a))}var valid_path=/^(.*)\.([^.\s]+)$/;module.exports=dot_path;
//# sourceMappingURL=altr.min.map
},{}],33:[function(require,module,exports){
function create_filter(e){function r(){l.apply(f,arguments)}function t(r){f.updateValue(e,r)}var i=e.match(filter_regexp),f=this;if(i){var l=f.filters[i[1]];if(!l)throw new Error("could not find filter: "+e);return l=l.call(f,t),f.register(i[2],r,!1,e),!0}}var filter_regexp=/^([^\s(]+)\((.*)\)$/;module.exports=create_filter;
//# sourceMappingURL=altr.min.map
},{}],34:[function(require,module,exports){
function operator(e){for(var t,n=0,r=types.length;r>n;++n)if(t=e.match(types[n].test))return types[n].create.call(this,t,e),!0}function create_ternary(e,t){function n(e){p=e,s()}function r(e){u=e,s()}function a(e){i=e,s()}function s(){y.updateValue(t,p?u:i)}var i,u,p,y=this,c=y.split(e[2],":");if(2!==c.length)throw new Error("Unmatched ternary in: "+t);y.register(e[1],n,!1,t),y.register(c[0],r,!1,t),y.register(c[1],a,!1,t)}function binary(e){return{test:new RegExp("^(.+?)(\\"+e.join("|\\")+")(.+)$"),create:create_binary}}function create_binary(e,t){function n(e){u.updateValue(t,i(s=e,a))}function r(e){u.updateValue(t,i(s,a=e))}var a,s,i=updaters[this.clean(e[2])],u=this;i||(i=Function("lhs, rhs","return lhs "+e[2]+" rhs")),u.register(e[1],n,!1,t),u.register(e[3],r,!1,t)}function unary(e){var t=new RegExp("^(\\"+e.join("|\\")+")(.+)$");return{test:t,create:create_unary}}function create_unary(e,t){var n=Function("val","return "+e[1]+"val"),r=this;r.register(e[2],function(e){r.updateValue(t,n(e))},!1,t)}function update_in(e,t){return"undefined"!=typeof t&&e in t}function update_instanceof(e,t){return"function"==typeof t&&e instanceof t}var ternary_regexp=/^\s*(.+?)\s*\?(.*)\s*$/;module.exports=operator;var updaters={},types=[];types.push({test:ternary_regexp,create:create_ternary}),types.push(binary(["|\\|"])),types.push(binary(["&&"])),types.push(binary(["|"])),types.push(binary(["^"])),types.push(binary(["&"])),types.push(binary(["===","!==","==","!="])),types.push(binary([">=","<=",">","<"," in "," instanceof "])),types.push(binary(["+","-"])),types.push(binary(["*","/","%"])),types.push(unary(["!","+","-","~"])),updaters["in"]=update_in,updaters["instanceof"]=update_instanceof;
//# sourceMappingURL=altr.min.map
},{}],35:[function(require,module,exports){
function create_parens(e){function r(r){s.updateValue(e,r)}var a=e.match(parens_regexp);if(a){for(var n,t=a[2],s=this,i=1,p=0,c=t.length;c>p&&(")"===t[p]?--i:"("===t[p]&&++i,i);++p);if(!p||p===c)throw new Error("Unmatched parens: "+e);var n=t.slice(0,p),u="{{paren_"+s.hash(n)+"}}",l=e.slice(0,e.lastIndexOf([a[2]])-1)+u+t.slice(p+1);return s.register(n,function(e){s.updateValue(u,e)},!1,e),s.register(l,r,!1,e),!0}}var parens_regexp=/(^|[^0-9a-zA-Z_$])\((.*)$/;module.exports=create_parens;
//# sourceMappingURL=altr.min.map
},{}],36:[function(require,module,exports){
function partial(t){var e=this.values[t];return regexp.test(t)?(1===this.lookups[t]&&(this.values[t]=[t],this.updateValue.apply(this,e)),!0):void 0}var regexp=/^\{\{.+\}\}$/;module.exports=partial;
//# sourceMappingURL=altr.min.map
},{}],37:[function(require,module,exports){
function create_value(e){var a;return vals.hasOwnProperty(e)?this.updateValue(e,vals[e])||!0:(a=e.match(number_regexp))?this.updateValue(e,+a[1])||!0:(a=e.match(string_regexp))?this.updateValue(e,a[1]||a[2]||"")||!0:void 0}var string_regexp=/^(?:'((?:[^'\\]|(?:\\.))*)'|"((?:[^"\\]|(?:\\.))*)")$/,number_regexp=/^(\d*(?:\.\d+)?)$/;module.exports=create_value;var vals={"true":!0,"false":!1,"null":null,undefined:void 0};
//# sourceMappingURL=altr.min.map
},{}]},{},[3])


//# sourceMappingURL=altr.min.map